<div class="col">
    <div class="row m-3">
        <div class="col-md-4 p-0">
            <h1>Commande {{origin}}s</h1>
        </div>
        <div class="col-md-4">
            <div class="input-group flex-nowrap">
                <input type="text" class="form-control" placeholder="Rechercher..."
                       [(ngModel)]="commandeCltFrs"
                       aria-label="Username"
                       aria-describedby="addon-wrappings">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="addon-wrappings"><i class="fas fa-search"></i></span>
                </div>
            </div>
        </div>
        <div class="col-md-4 text-right">
            <app-button-action
                    [isImporterVisible]="false"

                    (clickEvent)="nouvelleCommande()"
            ></app-button-action>
        </div>
    </div>
    <div class="col m-3" >
        <div class="accordion" id="accordionExample" *ngFor="let cmd of listeCommandes
                | filter: commandeCltFrs
                | paginate:{ itemsPerPage:2, currentPage:page, totalItems:totalLength}">
            <div class="card">
                <div class="card-body" id="headingOne">
                    <button class="btn btn-block text-left" type="button" data-toggle="collapse"
                            [attr.data-target]="'#collapseOne'+cmd.id"
                            aria-expanded="true"
                            aria-controls="collapseOne">
                        <app-detail-cmd-clt-frs
                                [commande]="cmd"
                                [origin]="origin">
                        </app-detail-cmd-clt-frs>
                    </button>
                </div>
                <div id="collapseOne{{cmd.id}}" class="collapse" aria-labelledby="headingOne"
                     data-parent="#accordionExample"
                     style="max-height: 300px;
                     overflow-y: scroll">
                    <div class="card-body">
                        <app-detail-cmd
                                *ngFor="let ligne of mapLignesCommande.get(cmd.id)"
                                [ligneCommande]="ligne">
                        </app-detail-cmd>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="row">
                        <div class="col-md-6 text-left">
                            <div class="badge badge-success">
                                <h5>{{mapLignesCommande.get(cmd.id)?.length}} lignes de commande</h5>
                            </div>
                        </div>
                        <div class="col-md-6 text-right">
                            <div class="badge badge-success">
                               <h5>Total commande: {{ calculerTotalCommande(cmd.id) }} F CFA</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row mb-3" *ngIf="listeCommandes.length">
        <div class=" col-md-12 text-center">
            <pagination-controls (pageChange)="page = $event"></pagination-controls>
<!--            <app-pagination></app-pagination>-->
        </div>
    </div>

</div>
